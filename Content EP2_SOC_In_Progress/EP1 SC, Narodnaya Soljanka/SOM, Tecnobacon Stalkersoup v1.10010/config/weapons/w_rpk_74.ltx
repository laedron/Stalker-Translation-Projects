;;;; TB3D 1.0.9.9.8.6 - TB3D style weapons

[wpn_rpk_74]:identity_immunities
GroupControlSection	= spawn_group
;;discovery_dependency	= 
$spawn		= "weapons\rpk_74"	; option for Level Editor
$npc		= on			; option for Level Editor
$prefetch		= 8
scheduled		= off			; option for ALife Simulator
cform		= skeleton
class               	= W_AK74
min_radius               	= 5
max_radius               	= 100
description	= enc_wpn_rpk_tmp_descr

ef_main_weapon_type	= 2
ef_weapon_type		= 6

; -----------------== Modifier Scope Weapons ==------------------
holder_range_modifier	= 1.0	; во сколько раз увеличивается eye_range 
holder_fov_modifier		= 0.7	; во сколько раз увеличивается eye_fov
; -------------------------------------------------------------------------------

cost		= 10000
weapon_class	= assault_rifle

ammo_limit	= 210
ammo_current	= 30
ammo_elapsed	= 45
startup_ammo	= 1000

ammo_mag_size	= 45
ammo_class	= ammo_5.45x39_fmj, ammo_5.45x39_ap
grenade_class	= ammo_vog-25, ammo_vog-25p
fire_modes	= 1, 3, -1
launch_speed			= 0

slot		= 2
animation_slot	= 2	; type of the animation that will be used
hand_dependence	= 1
single_handed	= 0

inv_name		= enc_wpn_rpk_tmp
inv_name_short	= enc_wpn_rpk_tmp
inv_weight	= 5.0

inv_grid_width			= 6
inv_grid_height			= 2
inv_grid_x				= 24
inv_grid_y				= 4

kill_msg_x	= 175
kill_msg_y	= 0
kill_msg_width	= 82
kill_msg_height	= 28

; -------------------------------------== Base Parameters ==--------------------------------------
fire_dispersion_base	= 0.18	; угол (в градусах) базовой дисперсии оружия (оружия зажатого в тисках)
control_inertion_factor	= 1.2f

cam_relax_speed		= 6	; скорость возврата в исходное положение
cam_dispersion		= 0.15	; увеличения угла (в градусах) с каждым выстрелом
cam_dispersion_inc		= 0.15	; увеличениe cam_dispersion с каждым выстрелом
cam_dispertion_frac		= 1	; ствол будет подыматься на cam_dispersion*cam_dispertion_frac +- cam_dispersion*(1-cam_dispertion_frac)
cam_max_angle		= 7	; максимальный угол отдачи
cam_max_angle_horz	= 5.0	; (degree) maximum shot horizontal degree 
cam_step_angle_horz	= 0.5	; (degree) size of step camera moved in horizontal position while shooting

fire_dispersion_condition_factor	= 5	; увеличение дисперсии в процентах при максимальном износе 
misfire_probability		= 0.00001		; вероятность осечки при максимальном износе 
condition_shot_dec		= 0.00001		; увеличение износа при каждом выстреле
; ------------------------------------------------------------------------------------------------------------

direction			= 0, 0, 1
fire_point			= 0.0, 0.220, 0.760
fire_point2		= 0.0, 0.220, 0.760
flame_particles		= weapons\generic_weapon05
smoke_particles		= weapons\generic_shoot_00
grenade_flame_particles	= weapons\generic_weapon05
shell_point		= 0.0, 0.240, 0.130
shell_dir			= 0.0, 1.0, 0.0
shell_particles		= weapons\arsenal_shells1

PDM_disp_base		= 1.0
PDM_disp_vel_factor	= 1.2
PDM_disp_accel_factor	= 1.2
PDM_crouch		= 1.0
PDM_crouch_no_acc	= 1.0

; ------== ТТХ ==-------
hit_power		= 0.54
hit_impulse	= 140
hit_type		= fire_wound
fire_distance	= 100					;;;109974 10:1
bullet_speed	= 960
rpm		= 600
rpm_empty_click	= 200
grenade_vel	= 76
; ----------------------------

silencer_light_color		= 0.6, 0.5, 0.3
silencer_light_range		= 0.01
silencer_light_var_color	= 0.05
silencer_light_var_range	= 0.5
silencer_light_time 		= 0.2

hud		=  wpn_rpk_74_hud
normal		=  0, 1, 0
position		= -0.010, -0.180, -0.085
orientation	=  3, -2, 0			; ( 3rd person view )

;--STRAP PARAMETERS-----------------------------------------------------------------
strap_position	= -0.15,-0.37,0.2		; position (offset) and orientation of the weapon when it is strapped
strap_orientation	= -10,-5,10		; (3rd person view in degrees)
strap_bone0	=  bip01_spine2
strap_bone1	=  bip01_spine1

visual	= weapons\rpk_74\wpn_rpk_74.ogf

light_color		= 0.6, 0.5, 0.3
light_range	= 5
light_var_color	= 0.05
light_var_range	= 0.1
light_time		= 0.2

ph_mass		= 3

; ----== Addons ==----
scope_status		= 2
silencer_status		= 2
grenade_launcher_status	= 0

zoom_enabled		= true
scope_zoom_factor	    	= 75

silencer_name	= wpn_addon_silencer
silencer_x 					= 254
silencer_y 					= 13

scope_name 	= wpn_addon_acog1
scope_x 					= 44
scope_y 					= 2

; ----------------------------== Sounds ==---------------------------------
snd_draw			= weapons\generic_draw
snd_holster		= weapons\generic_holster
snd_shoot		= weapons\rpk47_buben\rpk47_shoot
snd_empty		= weapons\gen_empty
snd_reload		= weapons\val_reload
snd_shoot_grenade		= weapons\gen_grenshoot
snd_reload_grenade	= weapons\gen_grenload
snd_switch		= weapons\groza_switch
snd_silncer_shot		= weapons\w_ak74_shot1 
; ---------------------------------------------------------------------------------

silencer_flame_particles 	= weapons\generic_shoot_00
silencer_smoke_particles 	= weapons\generic_shoot_00

; ----------== Hud Description ==------------
[wpn_rpk_74_hud]
visual	= weapons\rpk_74\wpn_rpk_74_hud.ogf
; - - - - - - - - -
allow_inertion	= true

shell_point	= -0.010, 0.080, -0.040
shell_dir		=  0.0, 1.0, 0.0
fire_point		=  0.000, 0.090, 0.240
fire_point2	=  0.000, 0.090, 0.240
fire_bone		=  wpn_body
orientation             	=  1, 1, 0		
position                	=  0.12, -0.055, 0.03

grenade_bone	= wpn_grenade

anim_idle		= idle
anim_idle_aim	= idle_aim
anim_reload	= reload
anim_draw	= draw
anim_holster	= holster
anim_shoot	= shoot
anim_idle_sprint	= idle_sprint

; --- Анимации с подключенным подствольником ---
; ( режим обычной стрельбы )			  
anim_idle_gl		= idle
anim_idle_gl_aim		= idle_aim
anim_reload_gl		= reload
anim_draw_gl		= draw
anim_holster_gl		= holster
anim_shoot_gl		= shoot
; ( режим стрельбы из подствольника )
anim_idle_g		= idle
anim_idle_g_aim		= idle_aim
anim_reload_g		= reload
anim_shoot_g		= shoot
anim_switch_grenade_on	= draw
anim_switch_grenade_off	= holster
anim_draw_g		= draw
anim_holster_g		= holster

; Смещения HUD для режима приближения
zoom_offset	= -0.1209, 0.050, -0.053
zoom_rotate_x	=  0.0130
zoom_rotate_y	=  0.0163
; Режим прицеливания из самого автомата но с прицепленным подствольником
grenade_normal_zoom_offset		= 0, 0, 0
grenade_normal_zoom_rotate_x	= 0
grenade_normal_zoom_rotate_y	= 0
; Режим прицеливания из подствольника ( когда оружие переключено на стрельбу из подствольника )
grenade_zoom_offset	= 0, 0, 0
grenade_zoom_rotate_x	= 0
grenade_zoom_rotate_y	= 0

zoom_hide_crosshair	= true
